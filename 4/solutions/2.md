### Добавь более понятный для пользователя вывод и выведи дерево процессов.

Для выполнения задания по созданию приложения, которое запускает несколько программ и отображает дерево процессов, мы можем использовать системные вызовы API в Linux, такие как fork(), exec(), и wait(). Также для вывода дерева процессов можно использовать утилиту pstree.

Вот пример кода на C, который демонстрирует создание нескольких процессов и вывод их идентификаторов:

C
Скопировать
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>

void create_process(const char *program) {
    pid_t pid = fork();

    if (pid < 0) {
        perror("Fork failed");
        exit(EXIT_FAILURE);
    } else if (pid == 0) {
        // Дочерний процесс
        execlp(program, program, NULL);
        perror("Exec failed"); // Если exec не удался
        exit(EXIT_FAILURE);
    } else {
        // Родительский процесс
        printf("Запущен процесс: %s с PID: %d\n", program, pid);
        wait(NULL); // Ожидание завершения дочернего процесса
    }
}

int main() {
    const char *programs[] = {"ls", "pwd", "date"};
    size_t num_programs = sizeof(programs) / sizeof(programs[0]);

    for (size_t i = 0; i < num_programs; i++) {
        create_process(programs[i]);
    }

    // Вывод дерева процессов
    printf("\nДерево процессов:\n");
    system("pstree -p");

    return 0;
}

Объяснение кода:

Функция create_process:

Использует fork() для создания нового процесса.
В дочернем процессе вызывается execlp(), чтобы запустить указанную программу.
В родительском процессе выводится идентификатор дочернего процесса (PID) и ожидается его завершение с помощью wait().

Основная функция main:

Определяет массив программ, которые будут запущены.
Цикл проходит по массиву и вызывает create_process для каждой программы.

Вывод дерева процессов:

После завершения всех дочерних процессов вызывается system("pstree -p"), чтобы вывести дерево процессов с их идентификаторами.
Компиляция и запуск:

Сохраните код в файл, например, process_tree.c, и выполните следующие команды в терминале:

Bash
Копировать
gcc process_tree.c -o process_tree
./process_tree

Результат:

Вы увидите идентификаторы запущенных процессов и дерево процессов, что позволит Вам визуально оценить их родственные связи.

Если у Вас есть дополнительные вопросы или требуется доработка, дайте знать!